{"ast":null,"code":"// import React, { useContext, useEffect, useState } from 'react'\n// import './PlaceOrder.css'\n// import { StoreContext } from '../../context/StoreContext'\n// import axios from \"axios\"\n// import { useNavigate } from 'react-router-dom'\n\n// const PlaceOrder = () => {\n\n//     const { getTotalCartAmount, token, food_list, cartItems, url, userId } = useContext(StoreContext)\n\n//     const [data, setData] = useState ({\n//         firstName:\"\",\n//         lastName:\"\",\n//         email:\"\",\n//         street:\"\",\n//         city:\"\",\n//         state:\"\",\n//         zipcode:\"\",\n//         country:\"\",\n//         phone:\"\"\n//     })\n\n//     const onChangeHandler = (event) => {\n//         const name = event.target.name;\n//         const value = event.target.value;\n//         setData(data=>({...data,[name]:value}))\n//     }\n\n//     const placeOrder = async (event) =>  {\n//     event.preventDefault();\n//     let orderItems = [];\n//     food_list.map((item) => {\n//         if (cartItems[item._id]>0) {\n//             let itemInfo = item;\n//             itemInfo [\"quantity\"] = cartItems[item._id];\n//             orderItems.push(itemInfo);\n//         }\n//     })\n\n//     let orderData = {\n//         userId: userId,\n//         address: data,\n//         items: orderItems,\n//         amount: getTotalCartAmount() + 2\n//     }\n\n//     let response = await axios.post(url+\"/api/order/place\", orderData, { headers: {token} })\n//     if (response.data.success) {\n//         const {session_url} = response.data;\n//         window.location.replace(session_url);\n//     } else {\n//         alert (\"error\");\n//     }\n\n//     }\n\n//     const navigate = useNavigate();\n\n//     useEffect (()=> {\n//         if(!token) {\n//          navigate ('/cart')\n\n//         }\n//         else if (getTotalCartAmount() === 0) {\n//             navigate('/cart')\n\n//         }\n\n//     },[token])\n\n//     return (\n//         <form onSubmit={placeOrder} className='place-order'>\n//             <div className='place-order-left'>\n//                 <p className='title'>Delivery Information</p>\n//                 <div className='multi-field'>\n//                     <input required  name='firstName' onChange={onChangeHandler} value={data.firstName} type='text' placeholder='First Name' />\n//                     <input required  name='lastName' onChange={onChangeHandler} value={data.lastName} type='text' placeholder='Last Name' />\n\n//                 </div>\n//                 <input  required name='email' onChange={onChangeHandler} value={data.email} type='email' placeholder='Email Address' />\n//                 <input required name='street' onChange={onChangeHandler}  value={data.street} type='text' placeholder='Street' />\n//                 <div className='multi-field'>\n//                     <input required name='city' onChange={onChangeHandler} value={data.city} type='text' placeholder='City' />\n//                     <input required name='state' onChange={onChangeHandler} value={data.state} type='text' placeholder='State' />\n\n//                 </div>\n//                 <div className='multi-field'>\n\n//                     <input required name='zipcode' onChange={onChangeHandler} value={data.zipcode} type='text' placeholder='Zipcode' />\n//                     <input required name='country' onChange={onChangeHandler} value={data.country} type='text' placeholder='Country' />\n\n//                 </div>\n\n//                 <input required name='phone' onChange={onChangeHandler} value={data.phone} type='text' placeholder='Phone' />\n\n//             </div>\n\n//             <div className='place-order-right'>\n//                 <div className='cart-total'>\n//                     <h2>Cart Totals</h2>\n//                     <div>\n//                         <div className='cart-total-details'>\n//                             <p>Subtotal</p>\n//                             <p>${getTotalCartAmount()}</p>\n//                         </div>\n//                         <hr />\n//                         <div className='cart-total-details'>\n//                             <p>Delivery Fee</p>\n//                             <p>${getTotalCartAmount() === 0 ? 0 : 2}</p>\n//                         </div>\n//                         <hr />\n//                         <div className='cart-total-details'>\n//                             <b>Total</b>\n//                             <b>${getTotalCartAmount() === 0 ? 0 : getTotalCartAmount() + 2}</b>\n//                         </div>\n//                     </div>\n//                     <button type='submit' >PROCEED TO PAYMENT</button>\n\n//                 </div>\n\n//             </div>\n\n//         </form>\n//     )\n// }\n\n// export default PlaceOrder","map":{"version":3,"names":[],"sources":["/Users/macbookair/Documents/DeliveryApp/frontend/src/pages/PlaceOrder/PlaceOrder.js"],"sourcesContent":["// import React, { useContext, useEffect, useState } from 'react'\n// import './PlaceOrder.css'\n// import { StoreContext } from '../../context/StoreContext'\n// import axios from \"axios\"\n// import { useNavigate } from 'react-router-dom'\n\n// const PlaceOrder = () => {\n\n//     const { getTotalCartAmount, token, food_list, cartItems, url, userId } = useContext(StoreContext)\n    \n//     const [data, setData] = useState ({\n//         firstName:\"\",\n//         lastName:\"\",\n//         email:\"\",\n//         street:\"\",\n//         city:\"\",\n//         state:\"\",\n//         zipcode:\"\",\n//         country:\"\",\n//         phone:\"\"\n//     })\n\n//     const onChangeHandler = (event) => {\n//         const name = event.target.name;\n//         const value = event.target.value;\n//         setData(data=>({...data,[name]:value}))\n//     }\n\n//     const placeOrder = async (event) =>  {\n//     event.preventDefault();\n//     let orderItems = [];\n//     food_list.map((item) => {\n//         if (cartItems[item._id]>0) {\n//             let itemInfo = item;\n//             itemInfo [\"quantity\"] = cartItems[item._id];\n//             orderItems.push(itemInfo);\n//         }\n//     })\n\n//     let orderData = {\n//         userId: userId,\n//         address: data,\n//         items: orderItems,\n//         amount: getTotalCartAmount() + 2\n//     }\n\n//     let response = await axios.post(url+\"/api/order/place\", orderData, { headers: {token} })\n//     if (response.data.success) {\n//         const {session_url} = response.data;\n//         window.location.replace(session_url);\n//     } else {\n//         alert (\"error\");\n//     }\n\n//     }\n\n//     const navigate = useNavigate();\n   \n\n//     useEffect (()=> {\n//         if(!token) {\n//          navigate ('/cart')\n        \n//         }\n//         else if (getTotalCartAmount() === 0) {\n//             navigate('/cart')\n          \n//         }\n\n//     },[token])\n\n//     return (\n//         <form onSubmit={placeOrder} className='place-order'>\n//             <div className='place-order-left'>\n//                 <p className='title'>Delivery Information</p>\n//                 <div className='multi-field'>\n//                     <input required  name='firstName' onChange={onChangeHandler} value={data.firstName} type='text' placeholder='First Name' />\n//                     <input required  name='lastName' onChange={onChangeHandler} value={data.lastName} type='text' placeholder='Last Name' />\n\n//                 </div>\n//                 <input  required name='email' onChange={onChangeHandler} value={data.email} type='email' placeholder='Email Address' />\n//                 <input required name='street' onChange={onChangeHandler}  value={data.street} type='text' placeholder='Street' />\n//                 <div className='multi-field'>\n//                     <input required name='city' onChange={onChangeHandler} value={data.city} type='text' placeholder='City' />\n//                     <input required name='state' onChange={onChangeHandler} value={data.state} type='text' placeholder='State' />\n\n//                 </div>\n//                 <div className='multi-field'>\n                   \n//                     <input required name='zipcode' onChange={onChangeHandler} value={data.zipcode} type='text' placeholder='Zipcode' />\n//                     <input required name='country' onChange={onChangeHandler} value={data.country} type='text' placeholder='Country' />\n\n//                 </div>\n\n//                 <input required name='phone' onChange={onChangeHandler} value={data.phone} type='text' placeholder='Phone' />\n\n//             </div>\n\n//             <div className='place-order-right'>\n//                 <div className='cart-total'>\n//                     <h2>Cart Totals</h2>\n//                     <div>\n//                         <div className='cart-total-details'>\n//                             <p>Subtotal</p>\n//                             <p>${getTotalCartAmount()}</p>\n//                         </div>\n//                         <hr />\n//                         <div className='cart-total-details'>\n//                             <p>Delivery Fee</p>\n//                             <p>${getTotalCartAmount() === 0 ? 0 : 2}</p>\n//                         </div>\n//                         <hr />\n//                         <div className='cart-total-details'>\n//                             <b>Total</b>\n//                             <b>${getTotalCartAmount() === 0 ? 0 : getTotalCartAmount() + 2}</b>\n//                         </div>\n//                     </div>\n//                     <button type='submit' >PROCEED TO PAYMENT</button>\n                   \n//                 </div>\n               \n//             </div>\n\n\n//         </form>\n//     )\n// }\n\n// export default PlaceOrder\n\n\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAGA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}